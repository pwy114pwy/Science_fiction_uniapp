"use strict";const e=require("../../common/vendor.js"),i=require("../../api.js"),d={__name:"login",setup(l){let r=e.ref(""),t=e.ref("");const n=async()=>{try{const a=await e.index.request({url:i.User_Login,method:"POST",data:{username:r.value,password:t.value}});e.index.__f__("log","at pages/login/login.vue:38",a),a.statusCode==200?(e.index.showToast({title:"登录成功"}),e.index.setStorageSync("token",a.data.token),e.index.setStorageSync("userInfo",JSON.stringify(a.data.user)),e.index.reLaunch({url:"/pages/index/index"})):e.index.showToast({title:"登录失败,"+a.data.error,icon:"error",duration:2e3})}catch{e.index.showToast({title:"网络请求失败",icon:"error",duration:2e3})}},s=()=>{e.index.navigateTo({url:"/pages/register/register"})};return(a,c)=>({a:e.unref(r),b:e.o(o=>e.isRef(r)?r.value=o.detail.value:r=o.detail.value),c:e.unref(t),d:e.o(o=>e.isRef(t)?t.value=o.detail.value:t=o.detail.value),e:e.o(n),f:e.o(s)})}},u=e._export_sfc(d,[["__scopeId","data-v-e4e4508d"]]);wx.createPage(u);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/login/login.js.map
