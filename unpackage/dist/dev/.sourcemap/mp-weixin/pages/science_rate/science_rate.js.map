{"version":3,"file":"science_rate.js","sources":["pages/science_rate/science_rate.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2NpZW5jZV9yYXRlL3NjaWVuY2VfcmF0ZS52dWU"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 武器列表 -->\n    <block v-for=\"(weapon, index) in weapons\" :key=\"index\">\n      <view @click=\"openPopup(weapon)\" class=\"mini-weapon-item\">\n        <image :src=\"weapon.Science_Image\" mode=\"widthFix\" class=\"mini-weapon-image\"></image>\n        <text class=\"mini-weapon-title\">{{ weapon.Science_Name }}</text>\n      </view>\n    </block>\n\n    <!-- 自定义弹窗 -->\n    <transition name=\"popup-fade\">\n      <view v-if=\"isPopupVisible\" class=\"popup-overlay\" @click.self=\"closePopup\">\n        <view class=\"popup-content\">\n          <image :src=\"selectedWeapon.Science_Image\" mode=\"widthFix\" class=\"popup-weapon-image\"></image>\n          <text class=\"popup-weapon-title\">{{ selectedWeapon.Science_Name }}</text>\n          <text class=\"popup-weapon-description\">{{ selectedWeapon.Science_description }}</text>\n          \n          <!-- 属性评分 -->\n          <view class=\"popup-ratings\">\n            <view v-for=\"(value, key) in selectedWeapon.ratings\" :key=\"key\" class=\"popup-rating-item\">\r\n\t\t\t\t<text>{{key}}:</text><uni-rate :touchable=\"false\" :value=\"value\"/>\n            </view>\n          </view>\n\n          <button @click=\"closePopup\">关闭</button>\n        </view>\n      </view>\n    </transition>\n  </view>\n</template>\n\n<script setup>\nimport { ref,onMounted } from 'vue';\nimport {Get_Science} from \"@/api\"\n// 假设这是从服务器获取的数据\nconst weapons = ref([]);\n\nconst isPopupVisible = ref(false);\nconst selectedWeapon = ref({});\n\nfunction openPopup(weapon) {\n  selectedWeapon.value = weapon;\n  isPopupVisible.value = true;\n}\n\nfunction closePopup() {\n  isPopupVisible.value = false;\n}\r\nonMounted(async()=>{\r\n\tlet response =await uni.request({\r\n\t\turl:Get_Science,\r\n\t\tmethod:\"POST\",\r\n\t\tdata:{\r\n\t\t\tIllustrated_ID: uni.getStorageSync('NowIllustrated').Book_ID\r\n\t\t}\r\n\t}) \r\n\tlet arr=response.data;\r\n\tfor (let s of arr) {\r\n\t\tlet obj={\r\n\t\t\t\"力量\":s.Science_Rating_Strength,\r\n\t\t\t\"速度\":s.Science_Rating_Speed,\r\n\t\t\t\"智能\":s.Science_Rating_Intelligence,\r\n\t\t\t\"耐久\":s.Science_Rating_Durability,\r\n\t\t}\r\n\t\ts['ratings']=obj\r\n\t}\r\n\tweapons.value=arr\r\n\t// console.log(arr);\r\n})\n</script>\n\n<style>\n/* 更小的武器项 */\n.container {\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  padding: 10px;\n}\n\n.mini-weapon-item {\n  width: 30%; /* 每行大约能放三个 */\n  margin: 5px;\n  background-color: #f9f9f9;\n  padding: 10px;\n  border-radius: 8px;\n  text-align: center;\n}\n\n.mini-weapon-image {\n  width: 100%;\n  max-height: 80px;\n  border-radius: 8px;\n}\n\n.mini-weapon-title {\n  font-size: 16px;\n  font-weight: bold;\n  color: #333;\n  margin-top: 5px;\n}\n\n/* 弹窗样式 */\n.popup-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.popup-content {\n  background-color: white;\n  padding: 20px;\n  border-radius: 8px;\n  text-align: center;\n  width: 80%;\n  max-width: 400px;\n}\n\n.popup-weapon-image {\n  width: 100%;\n  max-height: 200px;\n  border-radius: 8px;\n}\n\n.popup-weapon-title {\n  font-size: 24px;\n  font-weight: bold;\n  color: #333;\n  margin-top: 10px;\n}\n\n.popup-weapon-description {\n  font-size: 14px;\n  color: #666;\n  line-height: 1.5;\n  margin-top: 10px;\n}\n\n.popup-ratings {\n  margin-top: 10px;\n  font-size: 14px;\n  color: #333;\n}\n\n.popup-rating-item {\r\n\t\n  /* display: block; */\r\n  display: flex;\n  margin-bottom: 5px;\n}\n\nbutton {\n  margin-top: 20px;\n}\n\n/* 动画 */\n.popup-fade-enter-active,\n.popup-fade-leave-active {\n  transition: opacity 0.3s ease, transform 0.3s ease;\n}\n\n.popup-fade-enter-from,\n.popup-fade-leave-to {\n  opacity: 0;\n  transform: scale(0.8);\n}\n</style>","import MiniProgramPage from 'E:/uniapp工作空间/Science _fiction/pages/science_rate/science_rate.vue'\nwx.createPage(MiniProgramPage)"],"names":["weapons","ref","isPopupVisible","selectedWeapon","openPopup","weapon","closePopup","onMounted","arr","uni","Get_Science","s","obj","MiniProgramPage"],"mappings":"ySAoCA,MAAMA,EAAUC,EAAAA,IAAI,CAAA,CAAE,EAEhBC,EAAiBD,EAAAA,IAAI,EAAK,EAC1BE,EAAiBF,EAAAA,IAAI,CAAA,CAAE,EAE7B,SAASG,EAAUC,EAAQ,CACzBF,EAAe,MAAQE,EACvBH,EAAe,MAAQ,EACzB,CAEA,SAASI,GAAa,CACpBJ,EAAe,MAAQ,EACzB,CACAK,OAAAA,EAAAA,UAAU,SAAS,CAQlB,IAAIC,GAPU,MAAMC,EAAG,MAAC,QAAQ,CAC/B,IAAIC,EAAW,YACf,OAAO,OACP,KAAK,CACJ,eAAgBD,EAAG,MAAC,eAAe,gBAAgB,EAAE,OACrD,CACH,CAAE,GACgB,KACjB,QAASE,KAAKH,EAAK,CAClB,IAAII,EAAI,CACP,GAAKD,EAAE,wBACP,GAAKA,EAAE,qBACP,GAAKA,EAAE,4BACP,GAAKA,EAAE,yBACP,EACDA,EAAE,QAAWC,CACb,CACDZ,EAAQ,MAAMQ,CAEf,CAAC,uXCpED,GAAG,WAAWK,CAAe"}