{"version":3,"file":"Illustrated.js","sources":["pages/Illustrated/Illustrated.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvSWxsdXN0cmF0ZWQvSWxsdXN0cmF0ZWQudnVl"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <view class=\"header\">\n      <text class=\"title\">科幻小说图鉴</text>\n      <text class=\"subtitle\">您的专属科幻空间</text>\n    </view>\n    <view class=\"search-bar\">\n      <input type=\"text\" placeholder=\"搜索图鉴\" v-model=\"TuText\" class=\"search-input\" />\n      <button @click=\"searchTu\" class=\"search-btn\">\n        <uni-icons type=\"search\" size=\"20\" style=\"color: aliceblue;\"></uni-icons>\n      </button>\n    </view>\n    <scroll-view class=\"scroll-view\" scroll-y>\n      <transition-group name=\"fade\" tag=\"div\">\n        <view v-for=\"(item, index) in displayedItems\" :key=\"index\" class=\"item\">\n          <image :src=\"item.Illustrated_Img\" mode=\"aspectFill\" class=\"item-image\"></image>\n          <view class=\"content\">\n            <text class=\"name\">{{ item.Book_Name }}</text>\n            <button @click=\"showDetails(item)\" class=\"details-btn\">详情</button>\n          </view>\n        </view>\n      </transition-group>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue';\nimport {Get_AllIllustrated} from '@/api'\nlet TuText = ref('');\nlet Illustrated_List = ref([]);\nlet Search_List = ref([]);\nlet issearch = ref(false);\n\n// 搜索图鉴\nfunction searchTu() {\n  if (TuText.value.trim()) {\n    issearch.value = true;\n    Search_List.value = Illustrated_List.value.filter(item =>\n      item.Book_Name.toLowerCase().includes(TuText.value.toLowerCase())\n    );\n  } else {\n    issearch.value = false;\n  }\n}\n\n// 获取全部图鉴\nasync function getAll_Illustrated() {\n  try {\n    const response = await uni.request({\n      url: Get_AllIllustrated,\n      method: 'GET'\n    });\n    Illustrated_List.value = response.data;\n    Search_List.value = [...response.data];\n  } catch (e) {\n    console.error(e);\n  }\n}\n\n// 显示详情\nfunction showDetails(item) {\n  uni.setStorageSync('NowIllustrated', item);\n  uni.navigateTo({\n    url: `/pages/Illustrated_detail/Illustrated_detail?id=${item.Book_ID}`\n  });\n  console.log(item);\n}\n\nconst displayedItems = computed(() => issearch.value ? Search_List.value : Illustrated_List.value);\n\nonMounted(() => {\n  getAll_Illustrated();\n});\n</script>\n\n<style scoped>\n/* @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap'); */\n\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background-color: #f0f2f5;\n  font-family: 'Roboto', sans-serif;\n}\n\n.search-bar {\n  display: flex;\n  align-items: center;\n  padding: 10px 20px;\n  background-color: #fff;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  margin-bottom: 10px;\n}\n\n.search-input {\n  flex-grow: 1;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 20px;\n  font-size: 16px;\n  margin-right: 10px;\n}\n\n.search-btn {\n  padding: 10px 20px;\n  border: none;\n  background-color: #1e90ff;\n  color: white;\n  border-radius: 20px;\n  font-size: 16px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.search-btn:hover {\n  background-color: #1c86ee;\n}\n\n.header {\n  padding: 20px;\n  background-color: #fff;\n}\n\n.title {\n  font-size: 28px;\n  font-weight: bold;\n  color: #333;\n}\n\n.subtitle {\n  font-size: 18px;\n  color: #666;\n  margin-top: 5px;\n}\n\n.scroll-view {\n  flex: 1;\n  overflow-y: auto;\n  background-color: #f0f2f5;\n}\n\n.item {\n  margin: 20px;\n  background-color: #fff;\n  border-radius: 15px;\n  overflow: hidden;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transition: transform 0.2s;\n}\n\n.item:hover {\n  transform: translateY(-5px);\n}\n\n.item-image {\n  width: 100%;\n  height: 200px;\n  object-fit: cover;\n}\n\n.content {\n  padding: 15px;\n}\n\n.name {\n  font-size: 20px;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 5px;\n}\n\n.details-btn {\n  padding: 10px 20px;\n  border: none;\n  background-color: #4caf50;\n  color: white;\n  border-radius: 20px;\n  font-size: 16px;\n  cursor: pointer;\n  transition: background-color 0.3s;\n}\n\n.details-btn:hover {\n  background-color: #45a049;\n}\n\n/* 过渡效果 */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n</style>","import MiniProgramPage from 'E:/uniapp工作空间/Science _fiction/pages/Illustrated/Illustrated.vue'\nwx.createPage(MiniProgramPage)"],"names":["TuText","ref","Illustrated_List","Search_List","issearch","searchTu","item","getAll_Illustrated","response","uni","Get_AllIllustrated","e","showDetails","displayedItems","computed","onMounted","MiniProgramPage"],"mappings":"kTA6BA,IAAIA,EAASC,EAAAA,IAAI,EAAE,EACfC,EAAmBD,EAAAA,IAAI,CAAA,CAAE,EACzBE,EAAcF,EAAAA,IAAI,CAAA,CAAE,EACpBG,EAAWH,EAAAA,IAAI,EAAK,EAGxB,SAASI,GAAW,CACdL,EAAO,MAAM,QACfI,EAAS,MAAQ,GACjBD,EAAY,MAAQD,EAAiB,MAAM,OAAOI,GAChDA,EAAK,UAAU,YAAa,EAAC,SAASN,EAAO,MAAM,aAAa,CACtE,GAEII,EAAS,MAAQ,EAErB,CAGA,eAAeG,GAAqB,CAClC,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAG,MAAC,QAAQ,CACjC,IAAKC,EAAkB,mBACvB,OAAQ,KACd,CAAK,EACDR,EAAiB,MAAQM,EAAS,KAClCL,EAAY,MAAQ,CAAC,GAAGK,EAAS,IAAI,CACtC,OAAQG,EAAG,CACVF,EAAAA,MAAc,MAAA,QAAA,0CAAAE,CAAC,CAChB,CACH,CAGA,SAASC,EAAYN,EAAM,CACzBG,EAAAA,MAAI,eAAe,iBAAkBH,CAAI,EACzCG,EAAAA,MAAI,WAAW,CACb,IAAK,mDAAmDH,EAAK,OAAO,EACxE,CAAG,EACDG,EAAAA,MAAY,MAAA,MAAA,0CAAAH,CAAI,CAClB,CAEA,MAAMO,EAAiBC,EAAAA,SAAS,IAAMV,EAAS,MAAQD,EAAY,MAAQD,EAAiB,KAAK,EAEjGa,OAAAA,EAAAA,UAAU,IAAM,CACdR,GACF,CAAC,+SCxED,GAAG,WAAWS,CAAe"}