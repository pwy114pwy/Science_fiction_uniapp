{"version":3,"file":"register.js","sources":["pages/register/register.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"register-page\">\r\n\t\t<h1>注册</h1>\r\n\t\t<form @submit=\"handleRegister\">\r\n\t\t\t<label for=\"username\">昵称：</label>\r\n\t\t\t<input type=\"text\" v-model=\"nickname\" required />\r\n\r\n\t\t\t<label for=\"username\">用户名：</label>\r\n\t\t\t<input type=\"text\" v-model=\"username\" required />\r\n\r\n\t\t\t<label for=\"email\">邮箱：</label>\r\n\t\t\t<input type=\"email\" v-model=\"email\" required />\r\n\r\n\t\t\t<label for=\"password\">密码：</label>\r\n\t\t\t<input type=\"password\" v-model=\"password\" required />\r\n\r\n\t\t\t<button form-type=\"submit\">注册</button>\r\n\t\t</form>\r\n\t\t<p><button @click=\"navigateToLogin\">已有账号？去登录</button></p>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue';\r\n\timport { User_Register } from '@/api'; // 假设这是你的用户API模块\r\n\t// import { showToast } from '@/utils/utils'; // 假设这是一个通用的提示函数\r\n\r\n\tlet username = ref('');\r\n\tlet email = ref('');\r\n\tlet password = ref('');\r\n\tlet nickname = ref('');\r\n\r\n\tconst handleRegister = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await uni.request({\r\n\t\t\t\turl: User_Register,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tusername: username.value,\r\n\t\t\t\t\temail: email.value,\r\n\t\t\t\t\tpassword: password.value,\r\n\t\t\t\t\tnickname: nickname.value\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (response.statusCode==200) {\r\n\t\t\t\t// 注册成功，提示用户并跳转到登录页面\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:'注册成功，请登录',\r\n\t\t\t\t\tduration:2000\r\n\t\t\t\t});\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/login/login'\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// console.log(response);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:'注册失败,'+response.data.error,\r\n\t\t\t\t\ticon:\"error\",\r\n\t\t\t\t\tduration:2000\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\t// alert('网络请求失败')\r\n\t\t\t\r\n\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:'网络请求失败',\r\n\t\t\t\t\ticon:\"error\",\r\n\t\t\t\t\tduration:2000\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n\r\n\tconst navigateToLogin = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/login/login'\r\n\t\t});\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.register-page {\r\n\t\tpadding: 20px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\tform {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\twidth: 100%;\r\n\t\tmax-width: 300px;\r\n\t}\r\n\r\n\tlabel {\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\tinput {\r\n\t\tpadding: 10px;\r\n\t\tmargin-top: 5px;\r\n\t\tborder: 1px solid #ccc;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\tbutton {\r\n\t\tmargin-top: 20px;\r\n\t\tpadding: 10px;\r\n\t\tbackground-color: #007bff;\r\n\t\tcolor: white;\r\n\t\tborder: none;\r\n\t\tborder-radius: 5px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\tbutton:hover {\r\n\t\tbackground-color: #0056b3;\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/uniapp工作空间/Science _fiction/pages/register/register.vue'\nwx.createPage(MiniProgramPage)"],"names":["username","ref","email","password","nickname","handleRegister","response","uni","User_Register","navigateToLogin","MiniProgramPage"],"mappings":"+GA6BC,IAAIA,EAAWC,MAAI,EAAE,EACjBC,EAAQD,MAAI,EAAE,EACdE,EAAWF,MAAI,EAAE,EACjBG,EAAWH,MAAI,EAAE,EAErB,MAAMI,EAAiB,SAAY,CAClC,GAAI,CACH,MAAMC,EAAW,MAAMC,EAAG,MAAC,QAAQ,CAClC,IAAKC,EAAa,cAClB,OAAQ,OACR,KAAM,CACL,SAAUR,EAAS,MACnB,MAAOE,EAAM,MACb,SAAUC,EAAS,MACnB,SAAUC,EAAS,KACnB,CACL,CAAI,EACGE,EAAS,YAAY,KAExBC,EAAAA,MAAI,UAAU,CACb,MAAM,WACN,SAAS,GACd,CAAK,EACDA,EAAAA,MAAI,WAAW,CACd,IAAK,oBACV,CAAK,GAGDA,EAAAA,MAAI,UAAU,CACb,MAAM,QAAQD,EAAS,KAAK,MAC5B,KAAK,QACL,SAAS,GACd,CAAK,CAEF,MAAe,CAGfC,EAAAA,MAAI,UAAU,CACZ,MAAM,SACN,KAAK,QACL,SAAS,GACd,CAAK,CAEF,CACH,EAEOE,EAAkB,IAAM,CAC7BF,EAAAA,MAAI,WAAW,CACd,IAAK,oBACR,CAAG,CACH,oYC9EA,GAAG,WAAWG,CAAe"}