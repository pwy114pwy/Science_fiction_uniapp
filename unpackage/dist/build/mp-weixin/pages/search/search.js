"use strict";const e=require("../../common/vendor.js"),r=require("../../api.js"),a={__name:"search",setup(a){let t=e.ref(""),o=e.ref(""),n=e.ref([]);let u=()=>{e.index.navigateBack()},c=r=>{e.index.setStorageSync("currentItemId",r),e.index.navigateTo({url:`/pages/detail/detail?id=${JSON.stringify(r)}`})};return e.onLoad((a=>{a.keyword&&(t.value=decodeURIComponent(a.keyword)),a.tag&&(o.value=a.tag),async function(){try{const a=await e.index.request({url:r.Search_Book,method:"POST",data:{keyword:t.value,tag:o.value}});n.value=a.data}catch(a){console.error("Error fetching search results:",a)}}()})),(r,a)=>({a:e.o(((...r)=>e.unref(u)&&e.unref(u)(...r))),b:e.t(e.unref(t)||e.unref(o)),c:e.f(e.unref(n),((r,a,t)=>({a:r.Img_Url,b:e.t(r.Book_Name),c:e.t(r.Author),d:a,e:e.o((a=>e.unref(c)(r.Book_ID)),a)})))})}},t=e._export_sfc(a,[["__scopeId","data-v-0a43e099"]]);wx.createPage(t);
